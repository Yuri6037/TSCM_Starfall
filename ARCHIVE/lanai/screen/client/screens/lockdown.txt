--@name LockdownScreen
--@author Yuri6037

local font = gl.glGenFonts("Anquietas", true, 32)

local tbl = {
	"123456789159798321377894516841651631231365132",
	"147852369187792334444891546156894987564125586",
	"147258369198791231461894651327898413598453218",
	"452189637187912234927891274324872218753347922",
	"548318792479123877321711657983549845632164956",
	"479127764266479167924468784612335665548745544",
	"558791734897978694415479451321213154447789856",
	"597263782489798456491334792367456494568989456",
	"489877626499781234890056456054056405405540416",
	"848945619845944563770218411005155102020540159",
	"488979812345897156590110011110001101110001101",
	"147871238942334987438952164988400510545054057",
	"498448941847771669960544198105467980346464716",
	"123456791234567891230014684985415086449831505",
	"145498874523187923180564984102545165496481058",
	"459798411387941561981980642180568411041510545",

	"123456789159798321377894516841651631231365132",
	"147852369187792334444891546156894987564125586",
	"147258369198791231461894651327898413598453218",
	"452189637187912234927891274324872218753347922",
	"548318792479123877321711657983549845632164956",
	"479127764266479167924468784612335665548745544",
	"558791734897978694415479451321213154447789856",
	"597263782489798456491334792367456494568989456",
	"489877626499781234890056456054056405405540416",
	"848945619845944563770218411005155102020540159",
	"488979812345897156590110011110001101110001101",
	"147871238942334987438952164988400510545054057",
	"498448941847771669960544198105467980346464716",
	"123456791234567891230014684985415086449831505",
	"145498874523187923180564984102545165496481058",
	"459798411387941561981980642180568411041510545",

	"123456789159798321377894516841651631231365132",
	"147852369187792334444891546156894987564125586",
	"147258369198791231461894651327898413598453218",
	"452189637187912234927891274324872218753347922",
	"548318792479123877321711657983549845632164956",
	"479127764266479167924468784612335665548745544",
	"558791734897978694415479451321213154447789856",
	"597263782489798456491334792367456494568989456",
	"489877626499781234890056456054056405405540416",
	"848945619845944563770218411005155102020540159",
	"488979812345897156590110011110001101110001101",
	"147871238942334987438952164988400510545054057",
	"498448941847771669960544198105467980346464716",
	"123456791234567891230014684985415086449831505",
	"145498874523187923180564984102545165496481058",
	"459798411387941561981980642180568411041510545",

	"123456789159798321377894516841651631231365132",
	"147852369187792334444891546156894987564125586",
	"147258369198791231461894651327898413598453218",
	"452189637187912234927891274324872218753347922",
	"548318792479123877321711657983549845632164956",
	"479127764266479167924468784612335665548745544",
	"558791734897978694415479451321213154447789856",
	"597263782489798456491334792367456494568989456",
	"489877626499781234890056456054056405405540416",
	"848945619845944563770218411005155102020540159",
	"488979812345897156590110011110001101110001101",
	"147871238942334987438952164988400510545054057",
	"498448941847771669960544198105467980346464716",
	"123456791234567891230014684985415086449831505",
	"145498874523187923180564984102545165496481058",
	"459798411387941561981980642180568411041510545",

	"123456789159798321377894516841651631231365132",
	"147852369187792334444891546156894987564125586",
	"147258369198791231461894651327898413598453218",
	"452189637187912234927891274324872218753347922",
	"548318792479123877321711657983549845632164956",
	"479127764266479167924468784612335665548745544",
	"558791734897978694415479451321213154447789856",
	"597263782489798456491334792367456494568989456",
	"489877626499781234890056456054056405405540416",
	"848945619845944563770218411005155102020540159",
	"488979812345897156590110011110001101110001101",
	"147871238942334987438952164988400510545054057",
	"498448941847771669960544198105467980346464716",
	"123456791234567891230014684985415086449831505",
	"145498874523187923180564984102545165496481058",
	"459798411387941561981980642180568411041510545",

	"123456789159798321377894516841651631231365132",
	"147852369187792334444891546156894987564125586",
	"147258369198791231461894651327898413598453218",
	"452189637187912234927891274324872218753347922",
	"548318792479123877321711657983549845632164956",
	"479127764266479167924468784612335665548745544",
	"558791734897978694415479451321213154447789856",
	"597263782489798456491334792367456494568989456",
	"489877626499781234890056456054056405405540416",
	"848945619845944563770218411005155102020540159",
	"488979812345897156590110011110001101110001101",
	"147871238942334987438952164988400510545054057",
	"498448941847771669960544198105467980346464716",
	"123456791234567891230014684985415086449831505",
	"145498874523187923180564984102545165496481058",
	"459798411387941561981980642180568411041510545",

	"123456789159798321377894516841651631231365132",
	"147852369187792334444891546156894987564125586",
	"147258369198791231461894651327898413598453218",
	"452189637187912234927891274324872218753347922",
	"548318792479123877321711657983549845632164956",
	"479127764266479167924468784612335665548745544",
	"558791734897978694415479451321213154447789856",
	"597263782489798456491334792367456494568989456",
	"489877626499781234890056456054056405405540416",
	"848945619845944563770218411005155102020540159",
	"488979812345897156590110011110001101110001101",
	"147871238942334987438952164988400510545054057",
	"498448941847771669960544198105467980346464716",
	"123456791234567891230014684985415086449831505",
	"145498874523187923180564984102545165496481058",
	"459798411387941561981980642180568411041510545",

	"123456789159798321377894516841651631231365132",
	"147852369187792334444891546156894987564125586",
	"147258369198791231461894651327898413598453218",
	"452189637187912234927891274324872218753347922",
	"548318792479123877321711657983549845632164956",
	"479127764266479167924468784612335665548745544",
	"558791734897978694415479451321213154447789856",
	"597263782489798456491334792367456494568989456",
	"489877626499781234890056456054056405405540416",
	"848945619845944563770218411005155102020540159",
	"488979812345897156590110011110001101110001101",
	"147871238942334987438952164988400510545054057",
	"498448941847771669960544198105467980346464716",
	"123456791234567891230014684985415086449831505",
	"145498874523187923180564984102545165496481058",
	"459798411387941561981980642180568411041510545",

	"123456789159798321377894516841651631231365132",
	"147852369187792334444891546156894987564125586",
	"147258369198791231461894651327898413598453218",
	"452189637187912234927891274324872218753347922",
	"548318792479123877321711657983549845632164956",
	"479127764266479167924468784612335665548745544",
	"558791734897978694415479451321213154447789856",
	"597263782489798456491334792367456494568989456",
	"489877626499781234890056456054056405405540416",
	"848945619845944563770218411005155102020540159",
	"488979812345897156590110011110001101110001101",
	"147871238942334987438952164988400510545054057",
	"498448941847771669960544198105467980346464716",
	"123456791234567891230014684985415086449831505",
	"145498874523187923180564984102545165496481058",
	"459798411387941561981980642180568411041510545"
}

local id = render.getTextureID("phoenix_storms/wire/pcb_red")

local gr_up = render.getTextureID("gui/gradient_up")
local gr_down = render.getTextureID("gui/gradient_down")
local yPos = 0

local lockScreen = {}
lockScreen.Name = "Lockdown"
function lockScreen:Animate(cur)
	yPos = yPos + cur * 100
	if (yPos > 552) then
		yPos = -40
	end
end
function lockScreen:OnRender()
	gl.glBindColor(255, 0, 0)
	gl.glBindTexture(id)
	gl.glRect(0, 0, 1024, 512)

	gl.glBindTexture(gr_up)
	gl.glRect(0, yPos, 1024, 20)
	gl.glBindTexture(gr_down)
	gl.glRect(0, yPos + 20, 1024, 20)

	gl.glBindFont(Screen.TitleFont)
	gl.glBindColor(255, 255, 255)
	local w = gl.glTextWidth("Screen Lockdown")
	gl.glText("Screen Lockdown", 512 - w / 2, 256 - 64)

	gl.glBindColor(255, 255, 255)
	gl.glBindFont(Screen.StandardFont)
	local w1 = gl.glTextWidth("LanAI " .. VERSION_AI)
	gl.glText("LanAI " .. VERSION_AI, 512 - w1 / 2, 20)
	local w2 = gl.glTextWidth("Lanteans private AI")
	gl.glText("Lanteans private AI", 512 - w2 / 2, 512 - 54)

	gl.glBindFont(font)
	local str = tbl[math.random(#tbl)]
	local w3 = gl.glTextWidth(str)
	gl.glText(str, 512 - w3 / 2, 275)
	gl.glText(str, 512 - w3 / 2, 180)
end
function lockScreen:OnShow()
end
function lockScreen:OnExit()
end
function lockScreen:OnTouched()
	if (not(Screen:IsMouseInRect(0, 0, 1024, 512))) then return end
	StartNet(function()
		net.writeString("Unlock")
	end)
end

Screen:Register(lockScreen)
